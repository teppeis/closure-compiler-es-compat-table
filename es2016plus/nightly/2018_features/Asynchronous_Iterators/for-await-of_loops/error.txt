// 2018 features / Asynchronous Iterators / for-await-of loops
module.exports = (asyncTestPassed) => {
  var asyncIterable = {};
  asyncIterable[Symbol.asyncIterator] = function(){
    var i = 0;
    return {
      next: function(){
        switch(++i){
        case 1: return Promise.resolve({done: false, value: 'a'});
        case 2: return Promise.resolve({done: false, value: 'b'});
        } return Promise.resolve({done: true});
      }
    };
  };
  (async function(){
    var result = '';
    for await(var value of asyncIterable)result += value;
    if(result === 'ab')asyncTestPassed();
  })();

};
----------------------------------------------------------
/tmp/faast/affc83cb-e8ca-4052-9729-ae954a4b1174/node_modules/google-closure-compiler-linux/compiler: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.32' not found (required by /tmp/faast/affc83cb-e8ca-4052-9729-ae954a4b1174/node_modules/google-closure-compiler-linux/compiler)
/tmp/faast/affc83cb-e8ca-4052-9729-ae954a4b1174/node_modules/google-closure-compiler-linux/compiler: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.34' not found (required by /tmp/faast/affc83cb-e8ca-4052-9729-ae954a4b1174/node_modules/google-closure-compiler-linux/compiler)
